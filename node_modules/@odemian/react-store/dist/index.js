import { useSyncExternalStore as S } from "react";
const g = (s) => {
  const r = /* @__PURE__ */ new Set();
  let e = s;
  const o = (t) => (r.add(t), () => r.delete(t)), c = (t) => (r.forEach((i) => i(t)), !0), u = (t) => {
    e = typeof t == "function" ? t(e) : t, c(e);
  }, n = (t) => () => t ? t(e) : e;
  return [(t) => S(o, n(t), n(t)), u, {
    get: () => e,
    subscribe: (t) => (t(e), o(t))
  }];
};
export {
  g as createStore
};
